<Project>
  <!-- 実行ファイル関連の設定 -->

  <Choose>

    <When Condition="'$(UseWinUI)' == 'true'">
      <PropertyGroup>
        <_IsWinUI>true</_IsWinUI>
      </PropertyGroup>
    </When>

    <When Condition="'$(UseWPF)' == 'true'">
      <PropertyGroup>
        <_IsWpf>true</_IsWpf>
      </PropertyGroup>
    </When>

    <!-- UsingMicrosoftMauiSdkは、ビルドを伴わないmsbuildタスク実行時などでは使用できない。 -->
    <When Condition="'$(UseMaui)' == 'true'">
      <PropertyGroup>
        <_IsMaui>true</_IsMaui>
      </PropertyGroup>
    </When>

    <When Condition="'$(UsingMicrosoftNETSdkWeb)' == 'true'">
      <PropertyGroup>
        <_IsAspNet>true</_IsAspNet>
      </PropertyGroup>
    </When>

    <When Condition="'$(UsingMicrosoftNETSdkBlazorWebAssembly)' == 'true'">
      <PropertyGroup>
        <_IsBlazorWebAssembly>true</_IsBlazorWebAssembly>
      </PropertyGroup>
    </When>

    <Otherwise>
      <PropertyGroup>
        <_IsConsole>true</_IsConsole>
      </PropertyGroup>
    </Otherwise>

  </Choose>

  <Import Condition="'$(_IsWinUI)' == 'true'" Project="$(BuildCommonPlatformDirectory)/WinUI.targets" />
  <Import Condition="'$(_IsWpf)' == 'true'" Project="$(BuildCommonPlatformDirectory)/Wpf.targets" />
  <Import Condition="'$(_IsMaui)' == 'true'" Project="$(BuildCommonPlatformDirectory)/Maui.targets" />
  <Import Condition="'$(_IsAvalonia)' == 'true'" Project="$(BuildCommonPlatformDirectory)/Avalonia.targets" />
  <Import Condition="'$(_IsAspNet)' == 'true'" Project="$(BuildCommonPlatformDirectory)/AspNet.targets" />
  <Import Condition="'$(_IsBlazorWebAssembly)' == 'true'" Project="$(BuildCommonPlatformDirectory)/BlazorWebAssembly.targets" />
  <Import Condition="'$(_IsConsole)' == 'true'" Project="$(BuildCommonPlatformDirectory)/Console.targets" />

  <!-- repository.json出力の際に使用する。 -->
  <ItemGroup>
    <ProjectIdentifier Condition="'$(_IsWinUI)' == 'true'" Include="Windows" />
    <ProjectIdentifier Condition="'$(_IsWpf)' == 'true'" Include="Windows" />
    <ProjectIdentifier Condition="'$(_IsMaui)' == 'true'" Include="Windows" />
    <ProjectIdentifier Condition="'$(_IsMaui)' == 'true'" Include="Android" />
    <ProjectIdentifier Condition="'$(_IsAspNet)' == 'true'" Include="AspNet" />
    <ProjectIdentifier Condition="'$(_IsBlazorWebAssembly)' == 'true'" Include="BlazorWebAssembly" />
    <ProjectIdentifier Condition="'$(_IsConsole)' == 'true'" Include="Console" />
  </ItemGroup>

</Project>
